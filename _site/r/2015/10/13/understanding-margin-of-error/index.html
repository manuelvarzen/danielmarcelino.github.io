<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
		
<title>&middot; Daniel &middot; Understanding Margin of Error for Small Populations</title>
        <!-- favicon -->
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge' chrome=1>
	<meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ" />
	<meta name="bing_webmastertools_id" content="97837256955BD270FD688E2B50F89FDB" />
    <meta name="description" content="Code and data"/>
    <meta name="viewport" content="width=device-width">
    <meta name="author" content="Daniel Marcelino"/>
    <meta name="viewport" content="width=640px, initial-scale=1.0, maximum-scale=1.5">	
    <meta name="keywords" content="Daniel Marcelino, SciencesPo, SoundexBr, r-project, r-cran, r, statistics, methods, programming, data mining, data visualization, datascience, data"/>	
    
    <meta name="description" content="A comment on why does a pollster reported a narrow margin of error despite the small sample.
" />
    <meta property="og:description" content="A comment on why does a pollster reported a narrow margin of error despite the small sample.
" />
    
    <meta name="author" content="EnfoRced Data Analysis" />
    
    <meta property="og:title" content="Understanding Margin of Error for Small Populations" />
    <meta property="twitter:title" content="Understanding Margin of Error for Small Populations" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/atom+xml" title="EnfoRced Data Analysis - Blog of Daniel Marcelino" href="/atom.xml" />
	 <link rel="alternate" type="application/rss+xml" title="EnfoRced Data Analysis - Blog of Daniel Marcelino" href="/feed.xml" />
    <link rel="alternate" type="application/rss+xml" title="EnfoRced Data Analysis - Blog of Daniel Marcelino" href="/feed.r.xml" />
	
        <!-- Google Fonts -->
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,300,400,600" rel="stylesheet" type="text/css">
		<link href='http://fonts.googleapis.com/css?family=Vollkorn' rel='stylesheet' type='text/css'>
        <!-- Custom CSS -->
		  <!-- Jquery & D3js -->
	   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	   <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
		
		
    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://41.media.tumblr.com/05546119a35e7acb34a47344bc7de012/tumblr_nypg9aPsBy1v0aqj1o1_500.jpg" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">EnfoRced Data Analysis</a></h1>
            <p class="site-description">Blog of Daniel Marcelino</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="/about">About</a>
			<a href="/research">Research</a>
			<a href="/randomwalks">Random Walks</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$', '$'], ["\(", "\)"] ],
        displayMath: [ ['$$', '$$'], ["\[", "\]"] ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
      //,
      //displayAlign: "left",
      //displayIndent: "2em"
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>


	
<article class="post">
  <h1>Understanding Margin of Error for Small Populations</h1>

  <div class="entry">
    <p>A comment on why does a pollster reported a narrow margin of error despite the small sample.</p>

<!--more-->

<p>I got an email today inquiring if the margin of sampling error reported in the newest poll by Datafolha would possibly be misleading. The polling firm often report surveys with regular sizes (1000/2400), so the margin of error calculated is in the range of +/-2% to +/-3%. </p>

<p>However, in its <a href="http://www1.folha.uol.com.br/poder/2015/10/1693217-parlamentares-sao-mais-liberais-do-que-o-eleitorado.shtml">latest poll</a>, the pollster sampled only 340 congressmen, reporting a margin of error of 3%. This, apparently did puzzle the attentive reader, who knows the margin of error is an inverse square root function of the sample size. She asks: &quot;Is the reported margin of error correct? Given such a small sample, shouldn&#39;t it be something around 5.3% or so?</p>

<p>My answer to the question was &quot;sort of&quot;. Firstly, given the fact the population of congressmen is a finite population (594 = 513 deputies + 81 senators), we must apply a Correction Factor for Finite Populations (FPCF), which will reduce the standard error of the mean. Essentially, the correction adjusts for the fact that although the number of elements is small, it comes from a small population too. </p>

<p>Adjusted by the FPCF, the margin of error is close to what reported by the Datafolha, however, by omitting decimal digits, the pollster arbitrarily narrows the confidence interval (2 * the margin of error) in about 1%. It&#39;s not that usual to round margins of error when reporting them, as a decimal digit may imply in substantial differences in the sample size as illustrated in the graph from Marcelino and Angel&#39;s paper.</p>

<p><img src="http://danielmarcelino.github.io/img/2015/sample_size.jpg" alt="Sample size vs Confidence Interval"></p>

<p>For pedagogical reasons, I won&#39;t go through the simplified formula. So, let do it step-by-step.</p>

<h3 id="margin-of-error-for-large-infinite-populations">Margin of Error for Large (Infinite) Populations</h3>

<p>The derivation of the maximum margin of error formula is given by:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">e = zs/sqrt(n)
where:
z = 
2.576 for 99% level of confidence
1.96 for 95% level of confidence
1.645 for 90% level of confidence

s = sqrt(p(1-p))      
p = proportion

n = sample size


e = zs/sqrt(n)
    = (1.96*0.5)/sqrt(340)
    = 0.05314796</code></pre></div>

<p>Thus, if we sample n = 340, we get a margin of error of = 5.31%.</p>

<h3 id="margin-of-error-for-finite-populations">Margin of Error for Finite Populations</h3>

<p>When the population is small (say less than 1 million), or the sample size represents more than 5% of the population, the pollster should multiply the margin of error by the Corrector Factor (FPCF), given the formula: </p>

<div class="highlight"><pre><code class="language-text" data-lang="text">e = zs/sqrt(nadj)

where:
z = 
2.576 for 99% level of confidence
1.96 for 95% level of confidence
1.645 for 90% level of confidence

s = sqrt(p(1-p))     
p = proportion 

nadj = (N-1)n/(N-n)   
n = sample size 
N = population size

e = zs/sqrt(nadj)
  = (1.96*0.5)/sqrt((594-1)*340/(594-340))
    = (1.96*0.5)/sqrt(793.7795)
    = 0.03478373</code></pre></div>

<p>By adjusting for finite populations, we get a margin of error of = 3.48%. </p>

<h3 id="stretching-the-concept">Stretching the concept</h3>

<p>Now, take an instant. I&#39;ve calculated the maximum margin of error--or the global margin because in several situations we don&#39;t know for sure where how the population falls apart on a particular issue. So, by estimating the population is 50/50 divided on the issue, we maximize the margin of error.</p>

<p>However, if we discover that 74% of the congressmen gave the same answer, as they did on the topic of criminality, then the margin of error of the two means for that particular question would be  smaller: 3%.</p>

<p>We compute <em>s</em> and plug it in the previous estimation, as:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">s = sqrt(p(1-p)) 
  = sqrt(0.74*(1-0.74)) 
  = 0.4386342

e = zs/sqrt(nadj)
  = (1.96*0.44)/sqrt((594-1)*340/(594-340))
    = (1.96*0.44)/sqrt(793.7795)
    = 0.0306097</code></pre></div>

<p>I found this poll very interesting, Datafolha should conduct polls like that more often. So, we can get to know more about the  average position of our representatives. </p>

  </div>

  <div class="date">
    Written on October 13, 2015
  </div>

  
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = 'daniel-marcelino';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</article>


    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
           <footer>
      <div class="row">
          <div class="col-md-4 text-left">
            Daniel Marcelino 2015 <span class="fa fa-creative-commons"></span>
          </div>
           <div class="col-md-4 text-center">
            <span class="fa fa-pencil"></span> with <span class="red pulse fa fa-heart"></span> &
            <span class="fa fa-coffee"></span>.
              <span class="fa fa-code"></span> in <span class="fa fa-github-alt"></span>
            </a>
          </div>
        <div class="col-md-4 text-right">
          <a
            href ="https://twitter.com/dmarcelinobr"
            title="My twitter account">
              <span class="thunder fa fa-twitter"></span>
          </a>
          <a
            href ="https://facebook.com/dmarcelinobr"
            title="My facebook account">
              <span class="thunder fa fa-facebook-official"></span>
          </a>
          <a
            href ="https://cl.linkedin.com/in/daniel-marcelino-80968656"
            title="My linkedin profile">
              <span class="thunder fa fa-linkedin"></span>
          </a>
          <a
            href ="https://plus.google.com/+dmsilva.br/posts"
            title="My google profile">
              <span class="thunder fa fa-google-plus"></span>
          </a>
          <a
            href ="https://github.com/danielmarcelino/"
            title="My github repos!">
              <span class="thunder fa fa-github"></span>
          </a>
          <a
            href ="https://github.com/danielmarcelino/"
            title="My github repos!">
              <span class="thunder fa fa-rss"></span>
          </a>
        </div>
        
      </div>
	 
  </footer>
        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-24186657-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/r/2015/10/13/understanding-margin-of-error/',
		  'title': 'Understanding Margin of Error for Small Populations'
		});
	</script>
	<!-- End Google Analytics -->


  </body>
</html>

<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Got Bootstrap? &#8211; Data * Analysis + R</title>
<meta name="description" content="This post discuss some of the techniques of bootstrapping in R, presented in the new book by Michael Chernick and Robert LaBudde.">
<meta name="keywords" content="R, rstats, Bootstrap">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Got Bootstrap?">
<meta name="twitter:description" content="This post discuss some of the techniques of bootstrapping in R, presented in the new book by Michael Chernick and Robert LaBudde.">
<meta name="twitter:site" content="@dmarcelinobr">
<meta name="twitter:creator" content="@dmarcelinobr">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://danielmarcelino.github.io/images/">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Got Bootstrap?">
<meta property="og:description" content="This post discuss some of the techniques of bootstrapping in R, presented in the new book by Michael Chernick and Robert LaBudde.">
<meta property="og:url" content="http://danielmarcelino.github.io/blog/2013/got-bootstrap.html">
<meta property="og:site_name" content="Data * Analysis + R">





<link rel="canonical" href="http://danielmarcelino.github.io/blog/2013/got-bootstrap.html">
<link href="http://danielmarcelino.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Data * Analysis + R Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://danielmarcelino.github.io/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://danielmarcelino.github.io/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://danielmarcelino.github.io/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://danielmarcelino.github.io/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://danielmarcelino.github.io/favicon.ico?r=31241">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://danielmarcelino.github.io/favicon.png?r=31241">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://danielmarcelino.github.io/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://danielmarcelino.github.io/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://danielmarcelino.github.io/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://danielmarcelino.github.io/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="http://danielmarcelino.github.io/blog/" >Blog</a></li>
		  
		    
		    <li><a href="http://danielmarcelino.github.io/interests/" >Interests</a></li>
		  
		    
		    <li><a href="http://danielmarcelino.github.io/about/" >About</a></li>
		  
		    
		    <li><a href="http://danielmarcelino.github.io/randomwalks/" >Random Walks</a></li>
		  
		    
		    <li><a href="http://danielmarcelino.github.io/resources/" >Resources</a></li>
		  
		    
		    <li><a href="http://danielmarcelino.github.io/search/" >Search</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title animated fadeIn"><a href="http://danielmarcelino.github.io/">Data * Analysis + R</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">Blog of Daniel Marcelino</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="http://danielmarcelino.github.io/tags/#R" title="Pages tagged R">R</a>&nbsp;&bull;&nbsp;<a href="http://danielmarcelino.github.io/tags/#rstats" title="Pages tagged rstats">rstats</a>&nbsp;&bull;&nbsp;<a href="http://danielmarcelino.github.io/tags/#Bootstrap" title="Pages tagged Bootstrap">Bootstrap</a></span>
        
          <h1 class="entry-title">Got Bootstrap?</h1>
        
      </header>
      <footer class="entry-meta">
        
        
          <img src="http://danielmarcelino.github.io/img/DSC02844.jpg" class="bio-photo" alt="Daniel Marcelino bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Daniel Marcelino</span></span>
        <span class="entry-date date published"><time datetime="2013-06-23T00:00:00-03:00"><i class="fa fa-calendar-o"></i> June 23, 2013</time></span>
        
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        <span class="social-share-twitter">
  <a href="https://twitter.com/intent/tweet?hashtags=R,rstats,Bootstrap&amp;text=Got%20Bootstrap?&amp;url=http://danielmarcelino.github.io/blog/2013/got-bootstrap.html&amp;via=dmarcelinobr" title="Share on Twitter" itemprop="Twitter"><i class="fa fa-twitter-square"></i> Tweet</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http://danielmarcelino.github.io/blog/2013/got-bootstrap.html" title="Share on Facebook" itemprop="Facebook"><i class="fa fa-facebook-square"></i> Like</a>
</span>
<span class="social-share-googleplus">
  <a href="https://plus.google.com/share?url=http://danielmarcelino.github.io/blog/2013/got-bootstrap.html" title="Share on Google Plus" itemprop="GooglePlus"><i class="fa fa-google-plus-square"></i> +1</a>
</span>
<!-- /.social-share -->
        
      </footer>
      <div class="entry-content">
        <p>I read a book by Michael Chernick and Robert LaBudde, <a href="http://www.amazon.com/gp/product/0470467045/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;%23038;creative=390957&amp;%23038;creativeASIN=0470467045&amp;%23038;linkCode=as2&amp;%23038;tag=danielmarceli-20">An Introduction to Bootstrap Methods with Applications to R</a>. It’s an interesting <em>oeuvre</em> for useRs of all stripes. The book brings lots of examples of bootstrapping applications, such as standard errors, confidence intervals, hypothesis testing, and bootstrap applied for time-series analysis. The showcases in the book draw upon libraries like the <strong>boot</strong> by Angelo Canty and Brian Ripley, which is a great package. However, I’d love to find in the book more examples on “how to do my own bootstrap program” instead, so I decided to write down these lines. Before starting any code, it might be a good idea to refresh what exactly bootstrap is, and why it is so relevant for data analysis nowadays.</p>

<p>The objective of bootstrapping is to provide an estimation of a parameter based on the data, such as standard deviation, mean, or median. The technique itself was introduced by Brad Efron in 1979. Third years before, however, Quenouille had introduced the jackknife method, and permutation tests were already described by Fisher in the early1930s. Hence, Efron’s resampling procedure build upon these pioneering methods and propose a simplification of them. Although, his original idea was a simple approximation of the jackknife method, depending on the context, computing a statistic from an estimator using bootstrap is as good as or even superior to jackknife method. Nonetheless, because the complexity to deal with big numbers $n^n$, for instance, a sample of size n=10 demands a huge computation: 10 billion, the bootstrapping—in practice—relies on Monte Carlo approximation rather than analytically computation.</p>

<p>Indeed, bootstrapping is all about sampling randomly with replacement from the original data. Here is an example, suppose we have a sample of size n=4 and the observations are $X_1 = 7, X_2 = 5, X_3 = 4, X_4 = 8$ and that we want to estimate the mean. Then, the sample estimate of the population parameter is the sample mean: $(7+5+4+8)/4 = <strong>6.0</strong>$. The bootstrap sample is denoted by $X_1^<em>,X_2^</em>,X_3^<em>,X_4^</em>$. The sampling distribution with replacement from $F_n$ is called the bootstrap distribution, which—to be consistent—we denote the bootstrap estimate by $T(F_n^<em>)$. So, a bootstrap sample might be $X_1^</em> = 5,X_2^* = 8,X_3^* = 7,X_4^* = 7$, with estimate of $(5+8+7+7)/4 = <strong>6.75</strong>$.</p>

<p>Note that, although it is possible to get the original sample back, typically, some values get repeated one or more times and consequently others get omitted. In this simple bootstrap sample instance, the bootstrap estimate of the mean is given by $(5+8+7+7)/4 = <strong>6.75</strong>$, which differs slightly from the original sample mean estimate of 6.0. If we take another bootstrap sample, we may get yet another estimate that may differ from the previous one and the original sample, like in the next bootstrap sample: $X_1^* = 4,X_2^* = 8,X_4^* = 7,X_5^* = 4$. We get, in the case, two repeated observations at once, and the bootstrap estimate for the mean <strong>5.75</strong>.</p>

<p>Despite the bootstrapping sounds complicated, the basic intuition is not. The bootstrap refers to a method that assigns values of accuracy of sample estimates by using resampling parcels of the original data. Therefore, it allows for inference about a population from a sample data [sample -&gt; population], which can be modeled by resampling the sample data and performing inference on [resample -&gt; sample]. In other words, all the bootstrap does is resample from a sampling distribution, and then estimate the desired statistic for the data parameter. The puzzle, nonetheless, is that as the population is unknown, the true error for a sample against its population is unknowable. Fortunately, by resampling with bootstrap, the ‘population’ becomes in fact the sample, and this is known. By following this logic: resampling the sample [resample -&gt; sample], the ‘true’ parameter is measurable.</p>

<p>To apply the bootstrap, in the following example I’m going to use data (NLS-Y) from Griliches (1976) about the impact of years of schooling on individual revenues. These data are used in many econometric books, including one by Hayashi (2000), and are replicated in the SciencePo package, for educational reason, so you can easily get them by using the following commands:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">require</span><span class="p">(</span><span class="s1">'SciencePo'</span><span class="p">))</span><span class="w"> </span><span class="n">install.packages</span><span class="p">(</span><span class="s1">'SciencePo'</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">griliches76</span><span class="p">,</span><span class="w"> </span><span class="n">package</span><span class="o">=</span><span class="s2">"SciencePo"</span><span class="p">)</span><span class="w">
</span><span class="n">detail</span><span class="p">(</span><span class="n">griliches76</span><span class="p">)</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">lm</span><span class="p">(</span><span class="n">lw</span><span class="o">~</span><span class="n">s</span><span class="o">+</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">griliches76</span><span class="p">))</span></code></pre></figure>

<p>To apply the bootstrap on the estimates, I used years of schooling “s” and IQ score “iq” to estimate the individual log wage rate “lw”—the dependent variable; therefore, the OLS equation is simply “lw = s + iq”. Which yield for the following statistics:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">Call</span><span class="o">:</span><span class="w">
</span><span class="n">lm</span><span class="p">(</span><span class="n">formula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lw</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">iq</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">griliches76</span><span class="p">)</span><span class="w">

</span><span class="n">Residuals</span><span class="o">:</span><span class="w">
    </span><span class="n">Min</span><span class="w">      </span><span class="m">1</span><span class="n">Q</span><span class="w">  </span><span class="n">Median</span><span class="w">      </span><span class="m">3</span><span class="n">Q</span><span class="w">     </span><span class="n">Max</span><span class="w"> 
</span><span class="m">-1.2817</span><span class="w"> </span><span class="m">-0.2436</span><span class="w">  </span><span class="m">0.0009</span><span class="w">  </span><span class="m">0.2424</span><span class="w">  </span><span class="m">1.1050</span><span class="w"> 

</span><span class="n">Coefficients</span><span class="o">:</span><span class="w">
            </span><span class="n">Estimate</span><span class="w"> </span><span class="n">Std.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">Pr</span><span class="p">(</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="n">Intercept</span><span class="p">)</span><span class="w">  </span><span class="m">4.15573</span><span class="w">    </span><span class="m">0.10810</span><span class="w">   </span><span class="m">38.44</span><span class="w">  </span><span class="o">&lt;</span><span class="w"> </span><span class="m">2e-16</span><span class="w">
</span><span class="n">s</span><span class="w">            </span><span class="m">0.08470</span><span class="w">    </span><span class="m">0.00699</span><span class="w">   </span><span class="m">12.11</span><span class="w">  </span><span class="o">&lt;</span><span class="w"> </span><span class="m">2e-16</span><span class="w">
</span><span class="n">iq</span><span class="w">           </span><span class="m">0.00381</span><span class="w">    </span><span class="m">0.00115</span><span class="w">    </span><span class="m">3.32</span><span class="w">  </span><span class="m">0.00093</span><span class="w">

</span><span class="n">Residual</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="m">0.369</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="m">755</span><span class="w"> </span><span class="n">degrees</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">freedom</span><span class="w">
</span><span class="n">Multiple</span><span class="w"> </span><span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="o">:</span><span class="w">  </span><span class="m">0.264</span><span class="p">,</span><span class="w">    </span><span class="n">Adjusted</span><span class="w"> </span><span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="o">:</span><span class="w">  </span><span class="m">0.262</span><span class="w"> 
</span><span class="nb">F</span><span class="o">-</span><span class="n">statistic</span><span class="o">:</span><span class="w">  </span><span class="m">135</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="m">755</span><span class="w"> </span><span class="n">DF</span><span class="p">,</span><span class="w">  </span><span class="n">p</span><span class="o">-</span><span class="n">value</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="m">2e-16</span></code></pre></figure>

<p>Based on these estimates, we can see that “s” has a standard error six times greater that of “iq” parameter. Now, for the sake of the doubt, let’s say you want to bootstrap the estimates and calculate the standard deviation of 10 thousands resamples on the fly. Because the standard deviation shows how much variation or dispersion exists from the average. A low standard deviation for the estimates (intercept, “s”, and “iq”) indicates that the data points tend to be very close to the mean.</p>

<p>As you will learn, building such an exercise in R is incredible straightforward. First, you want to draw a function that takes data and the estimators for generating standard deviations for each variable. Second, you want to draw a function to bootstrap the standard deviation, as in the following.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">myboot</span><span class="o">&lt;-</span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">stat</span><span class="p">,</span><span class="w"> </span><span class="n">nreps</span><span class="p">,</span><span class="w"> </span><span class="n">hist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="n">estimates</span><span class="o">&lt;-</span><span class="n">get</span><span class="p">(</span><span class="n">stat</span><span class="p">)(</span><span class="n">data</span><span class="p">)</span><span class="w">
</span><span class="n">len</span><span class="o">&lt;-</span><span class="nf">length</span><span class="p">(</span><span class="n">estimates</span><span class="p">)</span><span class="w"> 
</span><span class="n">container</span><span class="o">&lt;-</span><span class="n">matrix</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nreps</span><span class="p">)</span><span class="w"> 
</span><span class="n">nobs</span><span class="o">&lt;-</span><span class="n">nrow</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w">
</span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">nreps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> 
</span><span class="n">posdraws</span><span class="o">&lt;-</span><span class="nf">ceiling</span><span class="p">(</span><span class="n">runif</span><span class="p">(</span><span class="n">nobs</span><span class="p">)</span><span class="o">*</span><span class="n">nobs</span><span class="p">)</span><span class="w">
</span><span class="n">resample</span><span class="o">&lt;-</span><span class="n">data</span><span class="p">[</span><span class="n">posdraws</span><span class="p">,]</span><span class="w"> 
</span><span class="n">container</span><span class="p">[</span><span class="n">i</span><span class="p">,]</span><span class="o">&lt;-</span><span class="n">get</span><span class="p">(</span><span class="n">stat</span><span class="p">)(</span><span class="n">resample</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
  </span><span class="n">ads</span><span class="o">&lt;-</span><span class="n">apply</span><span class="p">(</span><span class="n">container</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="n">sd</span><span class="p">)</span><span class="w">
  </span><span class="k">if</span><span class="p">(</span><span class="n">hist</span><span class="o">==</span><span class="nb">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">mfrow</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">)</span><span class="w">
    </span><span class="n">frame</span><span class="p">()</span><span class="w">
    </span><span class="k">if</span><span class="p">(</span><span class="n">len</span><span class="o">&lt;=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="n">par</span><span class="p">(</span><span class="n">mfrow</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">len</span><span class="p">,</span><span class="m">1</span><span class="p">))</span><span class="w">
    </span><span class="k">if</span><span class="p">((</span><span class="n">len</span><span class="o">&gt;</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">len</span><span class="o">&lt;=</span><span class="w"> </span><span class="m">6</span><span class="p">))</span><span class="w"> </span><span class="n">par</span><span class="p">(</span><span class="n">mfrow</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">))</span><span class="w">
    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">len</span><span class="p">)</span><span class="w"> </span><span class="n">hist</span><span class="p">(</span><span class="n">container</span><span class="p">[,</span><span class="n">j</span><span class="p">],</span><span class="w"> 
    </span><span class="n">main</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s2">"Estimates for "</span><span class="p">,</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">estimates</span><span class="p">)[</span><span class="n">j</span><span class="p">]),</span><span class="w"> </span><span class="n">xlab</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w">  
  </span><span class="n">print</span><span class="p">(</span><span class="n">rbind</span><span class="p">(</span><span class="n">estimates</span><span class="p">,</span><span class="n">ads</span><span class="p">))</span><span class="w">
  </span><span class="nf">return</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="n">estimation</span><span class="o">=</span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="n">sds</span><span class="o">=</span><span class="n">sds</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">### 2 ###
</span><span class="n">mod</span><span class="o">&lt;-</span><span class="k">function</span><span class="p">(</span><span class="n">griliches76</span><span class="p">)</span><span class="n">lm</span><span class="p">(</span><span class="n">lw</span><span class="o">~</span><span class="n">s</span><span class="o">+</span><span class="n">iq</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">griliches76</span><span class="p">)[[</span><span class="m">1</span><span class="p">]]</span><span class="w">

</span><span class="n">mod1.res</span><span class="o">&lt;-</span><span class="n">myboot</span><span class="p">(</span><span class="n">griliches76</span><span class="p">,</span><span class="w"> </span><span class="s2">"mod"</span><span class="p">,</span><span class="w"> </span><span class="m">10000</span><span class="p">,</span><span class="w"> </span><span class="n">hist</span><span class="o">=</span><span class="nb">T</span><span class="p">)</span></code></pre></figure>

<p>An annotated version of the program above can be found <a href="http://gist.github.com/danielmarcelino/5800912">here</a>.
Having completed the bootstrap algorithm and the function to generate the standard deviation, you can finally perform the routine to get the results.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mod1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">griliches76</span><span class="p">)</span><span class="n">lm</span><span class="p">(</span><span class="n">lw</span><span class="o">~</span><span class="n">s</span><span class="o">+</span><span class="n">iq</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">griliches76</span><span class="p">)[[</span><span class="m">1</span><span class="p">]]</span><span class="w">

</span><span class="n">mod1.sds</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">myboot</span><span class="p">(</span><span class="n">griliches76</span><span class="p">,</span><span class="w"> </span><span class="s2">"mod1"</span><span class="p">,</span><span class="w"> </span><span class="m">10000</span><span class="p">,</span><span class="w"> </span><span class="n">hist</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

         </span><span class="p">(</span><span class="n">Intercept</span><span class="p">)</span><span class="w">      </span><span class="n">s</span><span class="w">       </span><span class="n">iq</span><span class="w">
</span><span class="n">estimates</span><span class="w">      </span><span class="m">4.1557</span><span class="w"> </span><span class="m">0.084696</span><span class="w"> </span><span class="m">0.003810</span><span class="w">
</span><span class="n">sds</span><span class="w">            </span><span class="m">0.1123</span><span class="w"> </span><span class="m">0.007351</span><span class="w"> </span><span class="m">0.001159</span></code></pre></figure>

<p>Not only the values displayed in the prompt are informative, but the histogram of the distribution. The above histogram tells us about the distribution of the bootstrap estimates. By comparing these estimates with those obtained from the naïve OLS, we can guarantee that the OLS estimates are rather robust, since they are contained in the distribution of standard deviations produced by 10 thousands sampling simulations.</p>

<p><img src="http://danielmarcelino.github.io/img/2013/boot_histograms.jpeg" alt="Histograms" /></p>

        
          <div id="disqus_thread"></div><!-- /#disqus_thread -->
          
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'daniel-marcelino'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://danielmarcelino.github.io/blog/2013/parallel-processing-when-does-it-worth.html" class="btn" title="Parallel Processing: When does it worth?">Previous</a>
      
      
        <a href="http://danielmarcelino.github.io/blog/2014/Do-you-believe-in-World-Cup-superstition.html" class="btn" title="Do you believe in World Cup superstition?">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2016 Daniel Marcelino</span>
<div class="social-icons">
	<a href="https://twitter.com/dmarcelinobr" title="Daniel Marcelino on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	<a href="https://facebook.com/daniel.marcelino.796" title="Daniel Marcelino on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	
	<a href="https://linkedin.com/in/daniel-marcelino-80968656" title="Daniel Marcelino on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	<a href="http://stackoverflow.com/users/792000/daniel" title="Daniel Marcelino on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	<a href="https://instagram.com/dmarcelinobr" title="Daniel Marcelino on Instagram" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
	
	<a href="https://github.com/danielmarcelino" title="Daniel Marcelino on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  
	
  <a href="http://danielmarcelino.github.io/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://danielmarcelino.github.io';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://danielmarcelino.github.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://danielmarcelino.github.io/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 'https://www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-24186657-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = 'https://stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-24186657-1', 'auto');
  ga('send', 'pageview');

</script>


<!-- htmlwidgets dependencies --> 
<script src="/htmlwidgets_deps/htmlwidgets-0.5/htmlwidgets.js"></script>
<script src="/htmlwidgets_deps/d3-3.5.3/d3.min.js"></script>
<link href="/htmlwidgets_deps/colorbrewer-1/colorbrewer.css" rel="stylesheet" />
<script src="/htmlwidgets_deps/colorbrewer-1/colorbrewer.js"></script>
<link href="/htmlwidgets_deps/streamgraph-1/streamgraph.css" rel="stylesheet" />
<script src="/htmlwidgets_deps/streamgraph-binding-0.8.1/streamgraph.js"></script>


</body>
</html>
